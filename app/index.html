<!-- File: /app/index.html (DE) -->
<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="format-detection" content="telephone=no,date=no,address=no" />

  <title>SafeShare App – Links bereinigen (local-first)</title>
  <meta name="description" content="SafeShare App entfernt Tracking-Parameter (utm_*, fbclid, gclid …) lokal im Browser. Einfügen → Bereinigen → Kopieren/Teilen." />
  <meta name="robots" content="index,follow" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#111111" />

  <link rel="canonical" href="https://safesharepro.com/app/" />
  <link rel="alternate" hreflang="de" href="https://safesharepro.com/app/" />
  <link rel="alternate" hreflang="en" href="https://safesharepro.com/en/app/" />
  <link rel="alternate" hreflang="x-default" href="https://safesharepro.com/en/app/" />

  <meta name="google-site-verification" content="NYTOoCOU2LnM29WvowsEd0KxsgVfIqwOB37zJXBcaJg" />
  <meta name="msvalidate.01" content="B18ACE18875F9614DAA5CF69EED40ACE" />

  <meta property="og:title" content="SafeShare App – Links bereinigen" />
  <meta property="og:description" content="Tracking-Parameter lokal entfernen und saubere Links teilen." />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="SafeShare" />
  <meta property="og:locale" content="de_DE" />
  <meta property="og:url" content="https://safesharepro.com/app/" />
  <meta property="og:image" content="https://safesharepro.com/assets/og/og-app.png?v=2026-02-05-02" />
  <meta property="og:image:alt" content="SafeShare App – Link bereinigen" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="SafeShare App – Links bereinigen" />
  <meta name="twitter:description" content="Tracking-Parameter lokal entfernen und saubere Links teilen." />
  <meta name="twitter:image" content="https://safesharepro.com/assets/og/og-app.png?v=2026-02-05-02" />
  <meta name="twitter:image:alt" content="SafeShare App – Link bereinigen" />

  <link rel="icon" type="image/svg+xml" href="/assets/fav/favicon.svg?v=2026-02-05-02" />
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/fav/favicon-32.png?v=2026-02-05-02" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/fav/favicon-16.png?v=2026-02-05-02" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/fav/apple-touch-icon-180.png?v=2026-02-05-02" />
  <link rel="manifest" href="/manifest.webmanifest?v=2026-02-05-02" />

  <link rel="stylesheet" href="/css/ss-page.css?v=2026-02-05-02" />
  <link rel="stylesheet" href="/css/ss-shell.css?v=2026-02-05-02" />
</head>
<body>
  <div id="ss-shell"></div>

  <main class="ss-main" id="top">
    <section class="ss-section" aria-labelledby="app-title">
      <div class="ss-card ss-hero">
        <h1 id="app-title">Link bereinigen</h1>
        <p class="ss-hero-kicker">Einfügen → Bereinigen → Kopieren/Teilen</p>

        <label class="ss-label ss-mt-12" for="rawUrl">URL eingeben</label>
        <textarea id="rawUrl" class="ss-input ss-w-full" rows="5" placeholder="https://example.com/?utm_source=..."></textarea>

        <div class="ss-actions ss-mt-12">
          <button id="cleanBtn" class="ss-btn ss-btn--primary" type="button">Bereinigen</button>
          <button id="copyBtn" class="ss-btn" type="button">Kopieren</button>
          <button id="shareBtn" class="ss-btn ss-btn--ghost" type="button">Teilen</button>
        </div>

        <label class="ss-label ss-mt-12" for="cleanUrl">Bereinigte URL</label>
        <textarea id="cleanUrl" class="ss-input ss-w-full" rows="4" readonly></textarea>

        <div class="ss-note ss-mt-12">Local-first: Keine Uploads, keine Anmeldung.</div>
      </div>
    </section>
  </main>

  <div id="ss-footer"></div>

  <script>
    (() => {
      "use strict";

      const TRACKING_KEYS = new Set([
        "utm_source","utm_medium","utm_campaign","utm_term","utm_content","utm_id",
        "gclid","dclid","gbraid","wbraid",
        "fbclid","msclkid","ttclid","twclid","li_fat_id",
        "mc_cid","mc_eid","mkt_tok","_hsenc","_hsmi",
        "igshid","yclid","srsltid","obclid","tblci"
      ]);

      const rawEl = document.getElementById("rawUrl");
      const outEl = document.getElementById("cleanUrl");
      const cleanBtn = document.getElementById("cleanBtn");
      const copyBtn = document.getElementById("copyBtn");
      const shareBtn = document.getElementById("shareBtn");

      const cleanUrl = (input) => {
        try {
          const u = new URL(input.trim());
          const toDelete = [];
          u.searchParams.forEach((_, key) => {
            if (TRACKING_KEYS.has(key.toLowerCase())) toDelete.push(key);
          });
          toDelete.forEach((key) => u.searchParams.delete(key));
          return u.toString();
        } catch {
          return "";
        }
      };

      cleanBtn.addEventListener("click", () => {
        outEl.value = cleanUrl(rawEl.value);
      });

      copyBtn.addEventListener("click", async () => {
        if (!outEl.value) return;
        await navigator.clipboard.writeText(outEl.value);
      });

      shareBtn.addEventListener("click", async () => {
        if (!outEl.value || !navigator.share) return;
        await navigator.share({ url: outEl.value, text: outEl.value });
      });
    })();
  </script>
  <script src="/js/ss-shell.js?v=2026-02-05-02" defer></script>
</body>
</html>
