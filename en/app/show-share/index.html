<!-- File: /en/show-share/index.html (EN target -> /en/app/) -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="robots" content="noindex,nofollow,noarchive" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>SafeShare â€“ Redirect</title>
</head>
<body>
<script>
(() => {
  "use strict";

  const qs = new URLSearchParams(window.location.search);
  const rawUrl   = (qs.get("url") || "").trim();
  const rawText  = (qs.get("text") || "").trim();
  const rawTitle = (qs.get("title") || "").trim();

  const extractUrl = (s) => {
    if (!s) return "";
    const m = s.match(/https?:\/\/\S+/i);
    return m ? m[0].replace(/[)\],.]+$/, "") : "";
  };

  const candidate = rawUrl || extractUrl(rawText) || "";
  const target = new URL("/en/app/", window.location.origin);

  if (candidate) {
    target.searchParams.set("url", candidate);
  } else if (rawText || rawTitle) {
    target.searchParams.set("text", rawText || rawTitle);
  }

  window.location.replace(target.toString());
})();
</script>
</body>
</html>
